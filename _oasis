OASISFormat: 0.4
Name: llnet
Version: 0.1
Synopsis: Simple library to communicate (unreliably) within an IPv6 multicast network
Authors: Vincent Bernardoff <vb@luminar.eu.org>
License: ISC
Plugins: META (0.4), DevFiles (0.4)
BuildTools: ocamlbuild
AlphaFeatures: compiled_setup_ml

Flag irmin
  Description: Build IrminDistributed.
  Default: false

Library llnet
  Path: lib
  Modules: Llnet
  BuildDepends: ipaddr.unix, lwt.unix, lwt.syntax, ocplib-endian, sockopt, tuntap, tls.lwt
  CompiledObject: best
  ByteOpt: -bin-annot
  NativeOpt: -bin-annot

Library irmindistributed
  Build$: flag(irmin)
  Install$: flag (irmin)
  Path: irmin
  Modules: IrminDistributed
  BuildDepends: irmin, llnet, lwt.syntax
  CompiledObject: best
  ByteOpt: -bin-annot
  NativeOpt: -bin-annot

Executable test_membership
  Path: test
  MainIs: test_membership.ml
  BuildDepends: llnet, lwt.syntax, ocplib-endian.bigstring
  CompiledObject: best
  Install: false
  ByteOpt: -bin-annot
  NativeOpt: -bin-annot

Executable test_ao
  Build$: flag(irmin)
  Install: false
  Path: irmin_test
  MainIs: test_ao.ml
  CompiledObject: best
  BuildDepends: irmin.backend, irmindistributed
  ByteOpt: -bin-annot
  NativeOpt: -bin-annot

Executable test_irmin
  Build$: flag(irmin)
  Install: false
  Path: irmin_test
  MainIs: test_irmin.ml
  CompiledObject: best
  BuildDepends: irmin.backend, irmin.unix, irmindistributed
  ByteOpt: -bin-annot
  NativeOpt: -bin-annot

Executable test_rw
  Build$: false
  Install: false
  Path: irmin_test
  MainIs: test_rw.ml
  CompiledObject: best
  BuildDepends: irmin.backend, irmindistributed
  ByteOpt: -bin-annot
  NativeOpt: -bin-annot
